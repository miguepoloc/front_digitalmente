{"version":3,"file":"static/js/4.8b027d3e.chunk.js","mappings":"8SAcMA,EAASC,EAAAA,KAAaC,MAAM,CAC9BC,SAAUF,EAAAA,KAELG,SAAS,0CACdC,iBAAkBJ,EAAAA,KAEbK,MAAM,CAACL,EAAAA,GAAQ,YAAa,MAAO,0CAyH5C,UArHsB,WAClB,IAAMM,GAAUC,EAAAA,EAAAA,MAIVC,GAHWC,EAAAA,EAAAA,MAGMC,OAAOC,MAAM,WAAW,GACvCC,GAAiBC,EAAAA,EAAAA,YAAWC,EAAAA,GAA5BF,aAER,OACI,iCACI,gBAAKG,IAAKC,EAAAA,EAAKC,GAAG,MAAMC,IAAI,GAAGC,UAAU,UACzC,iBAAKA,UAAU,kBAAf,WACI,gBAAKA,UAAU,YAAf,UACI,gBAAKJ,IAAKK,EAAAA,EAAKH,GAAG,MAAMC,IAAI,QAEhC,SAAC,KAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,UAAW,EAA5C,UACI,UAAC,IAAD,CACIC,GAAI,CACAC,GAAI,EACJC,GAAI,EACJC,QAAS,OACTC,cAAe,SACfC,WAAY,UANpB,WASI,gBACIhB,IAAKiB,EAAAA,EACLC,MAAO,CAAEC,OAAQ,SACjBhB,IAAI,UAER,eACIe,MAAO,CAAEE,MAAO,UAAWC,UAAW,UAD1C,6CAKA,SAAC,KAAD,CACIC,cAAe,CACXnC,SAAU,GACVE,iBAAkB,IAGtBkC,iBAAkBvC,EAElBwC,SAAQ,yCAAE,WAAOC,GAAP,uGAEsBC,IAAM,CAC1BC,OAAQ,OACRC,IAAI,GAAD,OAAKC,2CAAL,mBACHC,KAAM,CAAE3C,SAAUsC,EAAOtC,SAAUM,MAAOA,KAL5C,OAEIsC,EAFJ,OAQMD,EAASC,EAATD,KAERjC,EAAaiC,GAEbvC,EAAQyC,KAAK,cAZX,yGAAF,sDARZ,SA2BQ,gBACIC,EADJ,EACIA,QACAC,EAFJ,EAEIA,OACAT,EAHJ,EAGIA,OACAU,EAJJ,EAIIA,aACAC,EALJ,EAKIA,aALJ,OAOI,UAAC,KAAD,CAAMZ,SAAUW,EAAc/B,UAAU,aAAxC,WAEI,SAAC,IAAD,CACIiC,OAAO,SACPjD,UAAQ,EACRkD,WAAS,EACTC,KAAK,WACLC,MAAM,gBACNC,KAAK,WACLvC,GAAG,WACHwC,MAAOjB,EAAOtC,SACdwD,SAAUP,EACVQ,MAAOX,EAAQ9C,UAAY0D,QAAQX,EAAO/C,UAC1C2D,WAAYb,EAAQ9C,UAAY+C,EAAO/C,YAE3C,SAAC,IAAD,CACIkD,OAAO,SACPjD,UAAQ,EACRkD,WAAS,EACTC,KAAK,mBACLC,MAAM,0BACNC,KAAK,WACLvC,GAAG,mBACHwC,MAAOjB,EAAOpC,iBACdsD,SAAUP,EACVQ,MAAOX,EAAQ5C,kBAAoBwD,QAAQX,EAAO7C,kBAClDyD,WAAYb,EAAQ5C,kBAAoB6C,EAAO7C,oBAEnD,mBACIoD,KAAK,SACLM,QAAQ,YACRpC,GAAI,CAAEqC,GAAI,EAAGC,GAAI,GACjB7C,UAAU,kCAJd,qCAnCR,cAqD/B,C","sources":["pages/PasswordReset.jsx"],"sourcesContent":["import React, { useContext } from 'react'\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport Axios from 'axios'\r\nimport { Formik, Form } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport '../assets/css/Login.scss'\r\nimport Cel from '../assets/img/pato.svg'\r\nimport Ola from '../assets/img/wave.svg'\r\nimport Logo from '../assets/img/logo9.svg'\r\nimport TextField from '@mui/material/TextField'\r\nimport Box from '@mui/material/Box'\r\nimport Grid from '@mui/material/Grid'\r\n\r\nconst Schema = Yup.object().shape({\r\n    password: Yup\r\n        .string()\r\n        .required('No se ha introducido una contraseña'),\r\n    password_confirm: Yup\r\n        .string()\r\n        .oneOf([Yup.ref('password'), null], 'Las contraseñas deben ser iguales')\r\n\r\n})\r\n\r\nconst PasswordReset = () => {\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    //console.log('🚀 ~ file: PasswordReset.jsx ~ line 65 ~ PasswordReset ~ location', location)\r\n\r\n    const token = location.search.split('?token=')[1]\r\n    const { setAuthState } = useContext(AuthContext)\r\n\r\n    return (\r\n        <>\r\n            <img src={Ola} id=\"Ola\" alt=\"\" className=\"wave\" />\r\n            <div className=\"container-login\">\r\n                <div className=\"img-login\">\r\n                    <img src={Cel} id=\"Cel\" alt=\"\" />\r\n                </div>\r\n                <Grid item xs={12} sm={8} md={5} elevation={6}>\r\n                    <Box\r\n                        sx={{\r\n                            my: 8,\r\n                            mx: 4,\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'center'\r\n                        }}\r\n                    >\r\n                        <img\r\n                            src={Logo}\r\n                            style={{ height: '150px' }}\r\n                            alt=\"Logo\" />\r\n\r\n                        <h2\r\n                            style={{ color: '#00659D', textAlign: 'center' }}\r\n                        >\r\n                            Ingresa tu nueva contraseña\r\n                        </h2>\r\n                        <Formik\r\n                            initialValues={{\r\n                                password: '',\r\n                                password_confirm: ''\r\n                            }}\r\n\r\n                            validationSchema={Schema}\r\n\r\n                            onSubmit={async (values) => {\r\n                                try {\r\n                                    const respuesta = await Axios({\r\n                                        method: 'post',\r\n                                        url: `${process.env.REACT_APP_API_URL}/accounts/reset`,\r\n                                        data: { password: values.password, token: token }\r\n                                    })\r\n\r\n                                    const { data } = respuesta\r\n                                    //console.log('🚀 ~ file: PasswordReset.jsx ~ line 126 ~ onSubmit={ ~ data', data)\r\n                                    setAuthState(data)\r\n\r\n                                    history.push('/dashboard')\r\n                                } catch (error) {\r\n                                }\r\n                            }}\r\n                        >\r\n\r\n                            {\r\n                                ({\r\n                                    touched,\r\n                                    errors,\r\n                                    values,\r\n                                    handleSubmit,\r\n                                    handleChange\r\n                                }) => (\r\n                                    <Form onSubmit={handleSubmit} className=\"form-login\">\r\n\r\n                                        <TextField\r\n                                            margin=\"normal\"\r\n                                            required\r\n                                            fullWidth\r\n                                            name=\"password\"\r\n                                            label=\"Contraseña\"\r\n                                            type=\"password\"\r\n                                            id=\"password\"\r\n                                            value={values.password}\r\n                                            onChange={handleChange}\r\n                                            error={touched.password && Boolean(errors.password)}\r\n                                            helperText={touched.password && errors.password}\r\n                                        />\r\n                                        <TextField\r\n                                            margin=\"normal\"\r\n                                            required\r\n                                            fullWidth\r\n                                            name=\"password_confirm\"\r\n                                            label=\"Confirmar Contraseña\"\r\n                                            type=\"password\"\r\n                                            id=\"password_confirm\"\r\n                                            value={values.password_confirm}\r\n                                            onChange={handleChange}\r\n                                            error={touched.password_confirm && Boolean(errors.password_confirm)}\r\n                                            helperText={touched.password_confirm && errors.password_confirm}\r\n                                        />\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            variant=\"contained\"\r\n                                            sx={{ mt: 3, mb: 2 }}\r\n                                            className=\"btn-login btn-primary btn-block\"\r\n                                        >\r\n                                            Cambiar contraseña\r\n                                        </button>\r\n                                    </Form>\r\n                                )\r\n                            }\r\n\r\n                        </Formik>\r\n                    </Box>\r\n                </Grid>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PasswordReset\r\n"],"names":["Schema","Yup","shape","password","required","password_confirm","oneOf","history","useHistory","token","useLocation","search","split","setAuthState","useContext","AuthContext","src","Ola","id","alt","className","Cel","item","xs","sm","md","elevation","sx","my","mx","display","flexDirection","alignItems","Logo","style","height","color","textAlign","initialValues","validationSchema","onSubmit","values","Axios","method","url","process","data","respuesta","push","touched","errors","handleSubmit","handleChange","margin","fullWidth","name","label","type","value","onChange","error","Boolean","helperText","variant","mt","mb"],"sourceRoot":""}